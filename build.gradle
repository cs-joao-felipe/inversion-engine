buildscript {
  repositories {
    maven {
      url 'https://plugins.gradle.org/m2/'
    }
  }
  dependencies {
    classpath 'net.researchgate:gradle-release:2.6.0'
  }
}

plugins {
  id 'eclipse'
  id 'maven'
  id 'java'
}
apply plugin: 'net.researchgate.release'



group = 'com.github.inversion-api'
sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
   mavenLocal()
   mavenCentral()
   maven { url 'https://jitpack.io' }
}

configurations.all { resolutionStrategy.cacheChangingModulesFor 0, 'seconds' }

apply from: 'build.prj.gradle'

eclipse {
   classpath {
      file {
         tasks.eclipse.dependsOn(cleanEclipseClasspath)
         tasks.eclipse.dependsOn("create-dirs")
      }
   }
}

task "create-dirs" {
   doLast {
      sourceSets*.java.srcDirs*.each { it.mkdirs() }
      sourceSets*.resources.srcDirs*.each { it.mkdirs() }
   }
}


task writeNewPom {
    doLast {
        pom {
            project {
                inceptionYear '2015',
                organization {
                	name 'Rocket Partners, LLC'
                	url 'https://github.com/inversion-api/' + project.name
                }
                licenses {
                    license {
                        name 'GNU AFFERO GENERAL PUBLIC LICENSE'
                        url 'https://www.gnu.org/licenses/agpl-3.0.en.html'
                        distribution 'repo'
                    }
                }
            }
        }.writeTo("pom.xml")
    }
}



    